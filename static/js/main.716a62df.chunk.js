(this.webpackJsonpsamuray=this.webpackJsonpsamuray||[]).push([[1],{105:function(e,t){e.exports="data:image/png;base64,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"},106:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},121:function(e,t,n){e.exports={paginator:"Pagination_paginator__3krT_",pageNumber:"Pagination_pageNumber__xmSdd",selectedPage:"Pagination_selectedPage__1dBJc"}},155:function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return h})),n.d(t,"c",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return O})),n.d(t,"f",(function(){return S}));var r=n(10),a=n.n(r),c=n(27),u=n(69),i=n(12),o=n(58),l=n(17),s=function(e){return l.c.get("profile/"+e).then((function(e){return e.data}))},d=function(e){return l.c.get("profile/status/"+e).then((function(e){return e.data}))},f=function(e){return l.c.put("profile/status",{status:e}).then((function(e){return e.data}))},m=function(e){var t=new FormData;return t.append("image",e),l.c.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data}))},p=function(e){return l.c.put("profile",e).then((function(e){return e.data}))},E={posts:[{id:1,message:"Hi, how are you?",like:20},{id:2,message:"It's my first post",like:30},{id:3,message:"It's post",like:0},{id:4,message:"It's my 4th post!!!",like:5}],profile:null,status:""},g={addPostActionCreator:function(e){return{type:"ADD-POST",newPostText:e}},setUserProfile:function(e){return{type:"SET_USER_PROFILE",profile:e}},setStatus:function(e){return{type:"SET_STATUS",status:e}},deletePost:function(e){return{type:"DELETE_POST",postId:e}},savePhotoSuccess:function(e){return{type:"SAVE_PHOTOS_SUCCESS",photos:e}}},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s(e);case 2:r=t.sent,n(g.setUserProfile(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d(e);case 2:r=t.sent,n(g.setStatus(r));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f(e);case 3:0===t.sent.resultCode&&n(g.setStatus(e)),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(0);case 9:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(e);case 2:0===(r=t.sent).resultCode&&n(g.savePhotoSuccess(r.data.photos));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().auth.userId,t.next=3,p(e);case 3:if(0!==(u=t.sent).resultCode){t.next=13;break}if(null===c){t.next=10;break}return t.next=8,n(h(c));case 8:t.next=11;break;case 10:throw new Error("userId can't be null");case 11:t.next=15;break;case 13:return n(Object(o.a)("edit-profile",{_error:u.messages[0]})),t.abrupt("return",Promise.reject(u.messages[0]));case 15:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:5,message:t.newPostText,like:0};return Object(i.a)({},e,{posts:[].concat(Object(u.a)(e.posts),[n])});case"SET_USER_PROFILE":return Object(i.a)({},e,{profile:t.profile});case"SET_STATUS":return Object(i.a)({},e,{status:t.status});case"DELETE_POST":return Object(i.a)({},e,{posts:e.posts.filter((function(e){return e.id!==t.postId}))});case"SAVE_PHOTOS_SUCCESS":return Object(i.a)({},e,{profile:Object(i.a)({},e.profile,{photos:t.photos})});default:return e}}},17:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r,a,c=n(210),u=n.n(c).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"c88210a4-eb5b-40ba-9bd6-b33da9389784"}});!function(e){e[e.Success=0]="Success",e[e.Error=0]="Error"}(r||(r={})),function(e){e[e.CaptchaIsRequired=10]="CaptchaIsRequired"}(a||(a={}))},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(69),a=n(12),c={messages:[{id:1,message:"Hi, guys. What happen when start coronavirus"},{id:2,message:"How are your job, after coronavirus. You are alive?"},{id:3,message:"bye! bye! see you later! Olya"},{id:4,message:"bye! bye! see you later! Angrew"},{id:5,message:"bye! bye! see you later! Sasha"},{id:6,message:"bye! bye! see you later! Kolya"}],dialogs:[{id:1,name:"Max"},{id:2,name:"Jack"},{id:3,name:"Olya"},{id:4,name:"Angrew"},{id:5,name:"Sasha"},{id:6,name:"Kolya"}]},u={sendMessage:function(e){return{type:"SEND-MESSAGE",newMessageBody:e}}};t.b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEND-MESSAGE":var n=t.newMessageBody;return Object(a.a)({},e,{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:n}])});default:return e}}},205:function(e,t,n){e.exports={usersPhoto:"users_usersPhoto__1psvx",selectedPage:"users_selectedPage__1mnwI",noSelectedPage:"users_noSelectedPage__2pzRs"}},249:function(e,t,n){e.exports=n(414)},253:function(e,t,n){},254:function(e,t,n){},260:function(e,t,n){},414:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(0),a=n.n(r),c=n(13),u=n.n(c),i=(n(253),n(157)),o=n(158),l=n(199),s=n(202),d=(n(254),n(255),n(36)),f=n(45),m=n(11),p=n(12),E=n(110),g=n(154),h=n(121),b=n.n(h),v=n(4),O=n.n(v),S=function(e){for(var t=e.totalUsersCount,n=e.pageSize,c=e.currentPage,u=void 0===c?1:c,i=e.onPageChanged,o=void 0===i?function(e){return e}:i,l=e.portionSize,s=void 0===l?10:l,d=Math.ceil(t/n),f=[],m=0;m<=d;m++)f.push(m);var p=Math.ceil(d/s),h=Object(r.useState)(1),v=Object(g.a)(h,2),S=v[0],y=v[1],w=(S-1)*s+1,A=S*s;return a.a.createElement("div",{className:O()(b.a.paginator)},p>1&&a.a.createElement("button",{onClick:function(){y(S-1)}},"PREV"),f.filter((function(e){return e>=w&&e<=A})).map((function(e){return a.a.createElement("span",{className:O()(Object(E.a)({},b.a.selectedPage,u===e),b.a.pageNumber),key:e,onClick:function(t){o(e)}},e)})),p>S&&a.a.createElement("button",{onClick:function(){y(S+1)}},"NEXT"))},y=n(205),w=n.n(y),A=n(105),j=n.n(A),C=function(e){var t=e.user,n=e.followingInProgress,r=e.unFollowUser,c=e.followUser;return a.a.createElement("div",null,a.a.createElement("span",null,a.a.createElement("div",null,a.a.createElement(d.c,{to:"/profile/"+t.id},a.a.createElement("img",{src:null!=t.photos.small?t.photos.small:j.a,alt:"",className:w.a.usersPhoto}))),a.a.createElement("div",null,t.followed?a.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){r(t.id)}},"unFollow"):a.a.createElement("button",{disabled:n.some((function(e){return e===t.id})),onClick:function(){c(t.id)}},"Follow"))),a.a.createElement("span",null,a.a.createElement("span",null,a.a.createElement("div",null,t.name),a.a.createElement("div",null,t.status)),a.a.createElement("span",null,a.a.createElement("div",null,"Ukraine"),a.a.createElement("div",null,"Kyiv"))))},x=n(53),P=n(93),_=n(209),I=Object(_.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),k=function(e){return e.usersPage.pageSize},T=function(e){return e.usersPage.totalUsersCount},N=function(e){return e.usersPage.currentPage},F=function(e){return e.usersPage.isFetching},U=function(e){return e.usersPage.followingInProgress},L=function(e){return e.usersPage.filter},z=function(e){return{}},R=a.a.memo((function(e){var t=Object(m.d)(L);return a.a.createElement("div",null,a.a.createElement(P.c,{enableReinitialize:!0,initialValues:{term:t.term,friend:String(t.friend)},validate:z,onSubmit:function(t,n){var r=n.setSubmitting,a={term:t.term,friend:"null"===t.friend?null:"true"===t.friend};e.onFilterChanged(a),r(!1)}},(function(e){var t=e.isSubmitting;return a.a.createElement(P.b,null,a.a.createElement(P.a,{type:"text",name:"term"}),a.a.createElement(P.a,{name:"friend",as:"select"},a.a.createElement("option",{value:"null"},"All"),a.a.createElement("option",{value:"true"},"Only Followed"),a.a.createElement("option",{value:"false"},"Only Unfollowed")),a.a.createElement("button",{type:"submit",disabled:t},"Find"))})))})),M=n(10),Q=n.n(M),B=n(27),D=n(69),G=function(e,t,n,r){return e.map((function(e){return e[n]===t?Object(p.a)({},e,{},r):e}))},H=n(17),J={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return H.c.get("users?page=".concat(e,"&count=").concat(t,"&term=").concat(n)+(null===r?"":"&friend=".concat(r))).then((function(e){return e.data}))},follow:function(e){return H.c.post("follow/".concat(e)).then((function(e){return e.data}))},unFollow:function(e){return H.c.delete("follow/".concat(e)).then((function(e){return e.data}))}},K={users:[],pageSize:50,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],filter:{term:"",friend:null}};console.log("-> initialState",K.users);var W=function(e){return{type:"FOLLOW",userId:e}},X=function(e){return{type:"UN_FOLLOW",userId:e}},V=function(e){return{type:"SET_USERS",users:e}},Y=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},q=function(e){return{type:"SET_USERS_TOTAL_COUNT",count:e}},Z=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},$=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},ee=function(e){return{type:"SET_FILTER",payload:e}},te=function(e,t,n){return function(){var r=Object(B.a)(Q.a.mark((function r(a,c){var u;return Q.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a(Z(!0)),a(Y(e)),a(ee(n)),r.next=5,J.getUsers(e,t,n.term,n.friend);case 5:u=r.sent,a(Z(!1)),a(V(u.items)),a(q(u.totalCount));case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},ne=function(){var e=Object(B.a)(Q.a.mark((function e(t,n,r,a){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t($(!0,n)),e.next=3,r(n);case 3:0===e.sent.resultCode&&t(a(n)),t($(!1,n));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return Object(p.a)({},e,{users:G(e.users,t.userId,"id",{followed:!0})});case"UN_FOLLOW":return Object(p.a)({},e,{users:G(e.users,t.userId,"id",{followed:!1})});case"SET_USERS":return Object(p.a)({},e,{users:t.users});case"SET_CURRENT_PAGE":return Object(p.a)({},e,{currentPage:t.currentPage});case"SET_USERS_TOTAL_COUNT":return Object(p.a)({},e,{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return Object(p.a)({},e,{isFetching:t.isFetching});case"SET_FILTER":return Object(p.a)({},e,{filter:t.payload});case"TOGGLE_IS_FOLLOWING_PROGRESS":return Object(p.a)({},e,{followingInProgress:t.isFetching?[].concat(Object(D.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},ae=n(147),ce=function(e){var t=Object(m.d)(I),n=Object(m.d)(T),c=Object(m.d)(N),u=Object(m.d)(k),i=Object(m.d)(L),o=Object(m.d)(U),l=Object(m.c)(),s=Object(f.g)();Object(r.useEffect)((function(){var e=ae.parse(s.location.search.substr(1)),t=c,n=i;e.page&&(t=Number(e.page)),e.term&&(n=Object(p.a)({},n,{term:e.term})),e.friend&&(n=Object(p.a)({},n,{friend:"null"===e.term?null:!!e.friend})),l(te(t,u,n))}),[]),Object(r.useEffect)((function(){var e={};i.term&&(e.term=i.term),null!==!!i.friend&&(e.friend=String(i.friend)),1!==c&&(e.page=String(c)),s.push({pathname:"/users",search:ae.stringify(e)})}),[i,c,s]);var d=function(e){l(function(e){return function(){var t=Object(B.a)(Q.a.mark((function t(n){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(n,e,J.unFollow.bind(J),X);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))},E=function(e){l(function(e){return function(){var t=Object(B.a)(Q.a.mark((function t(n){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ne(n,e,J.follow.bind(J),W);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e))};return S?a.a.createElement("div",null,a.a.createElement(R,{onFilterChanged:function(e){l(te(1,u,e))}}),a.a.createElement(S,{currentPage:c,onPageChanged:function(e){l(te(e,u,i))},totalUsersCount:n,pageSize:u}),t.map((function(e){return a.a.createElement(C,{key:e.id,followingInProgress:o,user:e,unFollowUser:d,followUser:E})}))):a.a.createElement(x.a,null)},ue=function(e){var t=Object(m.d)(F);return a.a.createElement(a.a.Fragment,null,a.a.createElement("h2",null,e.pageTitle),t?a.a.createElement(x.a,null):null,a.a.createElement(ce,null))},ie=n(14),oe=n(198),le=n(44),se=n(106),de=n(81),fe=n.n(de),me=n(58),pe=function(){return H.c.get("auth/me").then((function(e){return e.data}))},Ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return H.c.post("auth/login",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data}))},ge=function(){return H.c.delete("auth/login")},he=function(){return H.c.get("security/get-captcha-url").then((function(e){return e.data}))},be="samurai-network/auth/SET_USER_DATA",ve={userId:null,email:null,login:null,isAuth:!1,captchaUrl:null},Oe=function(e,t,n,r){return{type:be,payload:{userId:e,email:t,login:n,isAuth:r}}},Se=function(e){return{type:"samurai-network/auth/GET_CAPTCHA_URL_SUCCESS",payload:{captchaUrl:e}}},ye=function(){return function(){var e=Object(B.a)(Q.a.mark((function e(t){var n,r,a,c,u;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe();case 2:(n=e.sent).resultCode===H.b.Success&&(r=n.data,a=r.id,c=r.login,u=r.email,t(Oe(a,u,c,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},we=function(){return function(){var e=Object(B.a)(Q.a.mark((function e(t){var n,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he();case 2:n=e.sent,r=n.url,t(Se(r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:case"samurai-network/auth/GET_CAPTCHA_URL_SUCCESS":return Object(p.a)({},e,{},t.payload);default:return e}},je=n(124),Ce=Object(oe.a)({form:"login"})((function(e){var t=e.handleSubmit,n=e.error,r=e.captchaUrl;return a.a.createElement("form",{onSubmit:t},Object(le.c)("Email","email",[se.b],le.a),Object(le.c)("Password","password",[se.b],le.a,{type:"password"}),Object(le.c)(void 0,"rememberMe",[],le.a,{type:"checkbox"},"remember me"),r&&a.a.createElement("img",{src:r,alt:""}),r&&Object(le.c)("Symbols from image","captcha",[se.b],le.a,{}),n&&a.a.createElement("div",{className:fe.a.formSummaryError},n),a.a.createElement("div",null,a.a.createElement(je.a,{onClick:t},"Login")))})),xe=function(){var e=Object(m.d)((function(e){return e.auth.captchaUrl})),t=Object(m.d)((function(e){return e.auth.isAuth})),n=Object(m.c)();return t?a.a.createElement(f.a,{to:"/profile"}):a.a.createElement("div",null,a.a.createElement("h1",null,"Login"),a.a.createElement(Ce,{onSubmit:function(e){var t,r,a,c;n((t=e.email,r=e.password,a=e.rememberMe,c=e.captcha,function(){var e=Object(B.a)(Q.a.mark((function e(n){var u,i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(t,r,a,c);case 2:if((u=e.sent).resultCode!==H.b.Success){e.next=8;break}return e.next=6,n(ye());case 6:e.next=13;break;case 8:if(u.resultCode!==H.a.CaptchaIsRequired){e.next=11;break}return e.next=11,n(we());case 11:i=u.messages.length>0?u.messages[0]:"Some Error",n(Object(me.a)("login",{_error:i}));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},captchaUrl:e}))},Pe={initialized:!1},_e=function(){return{type:"INITIALIZED_SUCCESS"}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return Object(p.a)({},e,{initialized:!0});default:return e}},ke=n(212),Te=n(200),Ne=n(155),Fe=n(196),Ue={},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue;arguments.length>1&&arguments[1];return e},ze=Object(ie.c)({profilePage:Ne.b,dialogsPage:Fe.b,sidebar:Le,usersPage:re,auth:Ae,form:Te.a,app:Ie}),Re=window.__REDUX_DEWTOOLS_EXTENSION_COMPOSE__||ie.d,Me=Object(ie.e)(ze,Re(Object(ie.a)(ke.a)));window.__state__=Me;var Qe=Me;function Be(e){return function(t){return a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(x.a,null)},a.a.createElement(e,t))}}var De=n(153),Ge=n(425),He=n(426),Je=n(92),Ke=n.n(Je),We=n(427),Xe=n(429),Ve=function(e){return e.auth.isAuth},Ye=function(e){return e.auth.login},qe=n(428),Ze=function(e){return{to:e,component:d.b}},$e=function(e){var t=Object(m.d)(Ve),n=Object(m.d)(Ye),r=Object(m.c)(),c=Ge.a.Header;return a.a.createElement(c,{className:"header"},a.a.createElement(We.a,null,a.a.createElement(Xe.a,{span:22},a.a.createElement(De.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"]},a.a.createElement("div",{key:"1"},"Developer Social"))),t?a.a.createElement(a.a.Fragment,null," ",a.a.createElement(Xe.a,{span:1,style:{textAlign:"right",paddingRight:"10px"}},a.a.createElement("img",{src:j.a,alt:n||"",style:{width:"35px",borderRadius:"25px"}})),a.a.createElement(Xe.a,{span:1,style:{paddingLeft:"10px"}},a.a.createElement(je.a,{onClick:function(){r(function(){var e=Object(B.a)(Q.a.mark((function e(t){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:if(0!==e.sent.data.resultCode){e.next=6;break}return e.next=6,t(Oe(null,null,null,!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},"Log out"))):a.a.createElement(Xe.a,{span:2,style:{textAlign:"right",paddingRight:"10px"}},a.a.createElement(je.a,null,a.a.createElement(qe.a,Ze("/login"),"Login")))))},et=(De.a.SubMenu,Ge.a.Content),tt=Ge.a.Footer,nt=Ge.a.Sider,rt=a.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,446))})),at=a.a.lazy((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,444))})),ct=a.a.lazy((function(){return n.e(6).then(n.bind(null,443))})),ut=Be(rt),it=Be(at),ot=Be(ct),lt=Be((function(){return a.a.createElement(ue,{pageTitle:"My Friends"})})),st=Be((function(){return a.a.createElement(xe,null)})),dt=function(e){Object(s.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).catchAllUnhandledErrors=function(e){alert("promiseRejectionEvent")},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp(),window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"componentWillUnmount",value:function(){window.addEventListener("unhandledrejection",this.catchAllUnhandledErrors)}},{key:"render",value:function(){return this.props.initialized?a.a.createElement(Ge.a,null,a.a.createElement($e,null),a.a.createElement(et,{style:{padding:"0 50px",backgroundColor:"#e7e7e8",alignSelf:"center"},className:"bg-white"},a.a.createElement(He.a,{style:{margin:"16px 0"}},a.a.createElement(He.a.Item,null,"Home")),a.a.createElement(Ge.a,{className:"site-layout-background ",style:{padding:"24px 0",width:"1200px"}},a.a.createElement(nt,{className:"site-layout-background",width:200},a.a.createElement(De.a,{mode:"inline",style:{height:"100%"}},a.a.createElement(De.a.Item,{key:"1"},a.a.createElement(d.c,{to:"/profile",activeClassName:Ke.a.activeLink},"Profile")),a.a.createElement(De.a.Item,{key:"2"},a.a.createElement(d.c,{to:"/users",activeClassName:Ke.a.activeLink},"Users")),a.a.createElement(De.a.Item,{key:"3"},a.a.createElement(d.c,{to:"/dialogs",activeClassName:Ke.a.activeLink},"Dialogs")),a.a.createElement(De.a.Item,{key:"4"},a.a.createElement(d.c,{to:"/chat",activeClassName:Ke.a.activeLink},"Chat")))),a.a.createElement(et,{style:{padding:"0 24px",minHeight:280}},a.a.createElement(f.d,null,this.props.isAuth?a.a.createElement("div",null,a.a.createElement(f.b,{exact:!0,path:"/",render:function(){return a.a.createElement(f.a,{to:"/profile"})}}),a.a.createElement(f.b,{path:"/dialogs",render:function(){return a.a.createElement(ut,null)}}),a.a.createElement(f.b,{path:"/profile/:userId?",render:function(){return a.a.createElement(it,null)}}),a.a.createElement(f.b,{path:"/users",render:function(){return a.a.createElement(lt,null)}}),a.a.createElement(f.b,{path:"/login",render:function(){return a.a.createElement(xe,null)}}),a.a.createElement(f.b,{path:"/chat",render:function(){return a.a.createElement(ot,null)}})):a.a.createElement("div",null,a.a.createElement(f.b,{exact:!0,path:"/",render:function(){return a.a.createElement(f.a,{to:"/users"})}}),a.a.createElement(f.b,{path:"/users",render:function(){return a.a.createElement(lt,null)}}),a.a.createElement(f.b,{path:"*",render:function(){return a.a.createElement(st,null)}})))))),a.a.createElement(tt,{style:{textAlign:"center"}},"Developer Social \xa92020 github.com/dartmax")):a.a.createElement(x.a,null)}}]),n}(a.a.Component),ft=Object(ie.d)(f.h,Object(m.b)((function(e){return{initialized:e.app.initialized,isAuth:e.auth.isAuth}}),{initializeApp:function(){return function(e){var t=e(ye());Promise.all([t]).then((function(){e(_e())}))}}}))(dt),mt=function(){return a.a.createElement(d.a,null,a.a.createElement(m.a,{store:Qe},a.a.createElement(ft,null)))};u.a.render(a.a.createElement(mt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},44:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f}));var r=n(144),a=n(0),c=n.n(a),u=n(81),i=n.n(u),o=n(143),l=function(e){var t=e.meta,n=t.touched,r=t.error,a=e.children,u=n&&r;return c.a.createElement("div",{className:i.a.formControl+" "+(u?i.a.error:"")},c.a.createElement("div",null,a),u&&c.a.createElement("span",null,r))},s=function(e){var t=e.input,n=(e.meta,Object(r.a)(e,["input","meta"]));return c.a.createElement(l,e,c.a.createElement("textarea",Object.assign({},t,n)))},d=function(e){var t=e.input,n=(e.meta,Object(r.a)(e,["input","meta"]));return c.a.createElement(l,e,c.a.createElement("input",Object.assign({},t,n)))};function f(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return c.a.createElement("div",null,c.a.createElement(o.a,Object.assign({placeholder:e,name:t,validate:n,component:r},a))," ",u)}},53:function(e,t,n){"use strict";var r=n(0),a=n.n(r);n(260);t.a=function(){return a.a.createElement("div",null,a.a.createElement("div",{id:"cube-loader"},a.a.createElement("div",{className:"caption"},a.a.createElement("div",{className:"cube-loader"},a.a.createElement("div",{className:"cube loader-1"}),a.a.createElement("div",{className:"cube loader-2"}),a.a.createElement("div",{className:"cube loader-4"}),a.a.createElement("div",{className:"cube loader-3"})))))}},81:function(e,t,n){e.exports={formControl:"FormsControls_formControl__2y5Uy",error:"FormsControls_error__3zZj4",formSummaryError:"FormsControls_formSummaryError__29Itv"}},92:function(e,t,n){e.exports={nav:"Navbar_nav__2imOE",item:"Navbar_item__zmMk4",activeLink:"Navbar_activeLink__3etBE"}}},[[249,2,3]]]);
//# sourceMappingURL=main.716a62df.chunk.js.map